{"version":3,"file":"main.js","mappings":"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","sources":["webpack://polygon-software/external \"electron\"","webpack://polygon-software/external \"electron-db\"","webpack://polygon-software/external \"electron-updater\"","webpack://polygon-software/external \"fs\"","webpack://polygon-software/external \"path\"","webpack://polygon-software/external \"url\"","webpack://polygon-software/webpack/bootstrap","webpack://polygon-software/webpack/runtime/compat get default export","webpack://polygon-software/webpack/runtime/define property getters","webpack://polygon-software/webpack/runtime/hasOwnProperty shorthand","webpack://polygon-software/webpack/runtime/make namespace object","webpack://polygon-software/./src/main.js"],"sourcesContent":["module.exports = require(\"electron\");","module.exports = require(\"electron-db\");","module.exports = require(\"electron-updater\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import path from \"path\";\nimport url from \"url\";\nimport { app, BrowserWindow, Menu, ipcMain, shell } from \"electron\";\nconst { autoUpdater } = require('electron-updater');\nimport env from \"env\";\nprocess.env[\"ELECTRON_DISABLE_SECURITY_WARNINGS\"] = \"true\";\n\n// to turn off devtools set to false and on with true\nvar devtools = true\n\nvar mainWindow;\n\n\n\n\nif (env.name !== \"production\") {\n  const userDataPath = app.getPath(\"userData\");\n  app.setPath(\"userData\", `${userDataPath} (${env.name})`);\n}\nconst db = require(\"electron-db\");\nconst fs = require(\"fs\");\nconst userDataPath = (\n  require(\"electron\").app || require(\"electron\").remote.app\n).getPath(\"userData\");\nconst dbPath = userDataPath + \"/db\";\n\napp.on(\"ready\", () => {\n  mainWindow = new BrowserWindow({\n    width: 550,\n    height: 330,\n    minWidth: 550,\n    minHeight: 330,\n    // resizable: false,\n    //  thickFrame: true,\n    frame: false,\n    webPreferences: {\n      nodeIntegration: true,\n      contextIsolation: false,\n      enableRemoteModule: true,\n      devTools: devtools\n    },\n  });\n  if (env.name == \"production\") {\n    autoUpdater.checkForUpdatesAndNotify();\n  }\n  if (fs.existsSync(`${dbPath}/User.json`)) {\n    db.getAll(`User`, dbPath, (succ, data) => {\n      if (succ) {\n        if (data.length > 0) {\n          mainWindow.setMinimumSize(1300, 700);\n          mainWindow.setSize(1300, 700);\n          mainWindow.center();\n\n          mainWindow.loadURL(\n            url.format({\n              pathname: path.join(__dirname, \"app.html\"),\n              protocol: \"file:\",\n              slashes: true,\n            })\n          );\n        } else {\n          mainWindow.loadURL(\n            url.format({\n              pathname: path.join(__dirname, \"login.html\"),\n              protocol: \"file:\",\n              slashes: true,\n            })\n          );\n        }\n      }\n    });\n  } else {\n    mainWindow.loadURL(\n      url.format({\n        pathname: path.join(__dirname, \"login.html\"),\n        protocol: \"file:\",\n        slashes: true,\n      })\n    );\n  }\n\n  mainWindow.on(\"close\", () => {\n    mainWindow = null;\n  });\n\n  ipcMain.on(\"changeSize\", async (event, height = 1300, width = 700) => {\n    mainWindow.setMinimumSize(height, width);\n    mainWindow.setSize(height, width);\n    mainWindow.center();\n\n    mainWindow.loadURL(\n      url.format({\n        pathname: path.join(__dirname, \"app.html\"),\n        protocol: \"file:\",\n        slashes: true,\n      })\n    );\n  });\n\n  ipcMain.on(\"logout\", async (event) => {\n    db.clearTable(`User`, dbPath, (succ, msg) => {\n      if (succ) {\n        mainWindow.loadURL(\n          url.format({\n            pathname: path.join(__dirname, \"login.html\"),\n            protocol: \"file:\",\n            slashes: true,\n          })\n        );\n\n        mainWindow.setMinimumSize(550, 330);\n        mainWindow.setSize(550, 330);\n        mainWindow.center();\n      }\n    });\n  });\n\n  ipcMain.on(\"app_version\", (event) => {\n    console.log(\"app_version\", { version: app.getVersion() })\n    event.sender.send(\"app_version\", { version: app.getVersion() });\n  });\n  autoUpdater.on('erorr', (erorr) => {\n    console.log(erorr)\n  })\n  autoUpdater.on(\"checking-for-update\", () => {\n    console.log('checking-for-update')\n  });\n\n  autoUpdater.on(\"update-not-available\", () => {\n    console.log('update-not-available')\n  });\n\n  autoUpdater.on(\"update-available\", () => {\n    console.log(\"Update Available\");\n  });\n\n  autoUpdater.on(\"update-downloaded\", async () => {\n    console.log(\"update-downloaded\");\n\n  });\n\n  autoUpdater.on(\"download-progress\", (progressObj) => {\n    // MainWindow.setProgressBar(Math.round(progressObj.percent));\n    let log_message = \"Download speed: \" + progressObj.bytesPerSecond;\n    log_message = log_message + \" - Downloaded \" + progressObj.percent + \"%\";\n    log_message =\n      log_message +\n      \" (\" +\n      progressObj.transferred +\n      \"/\" +\n      progressObj.total +\n      \")\";\n    console.log(log_message)\n  });\n\n});\n\napp.on(\"window-all-closed\", () => {\n  app.quit();\n});\n"],"names":["path","url","app","BrowserWindow","Menu","ipcMain","shell","autoUpdater","require","env","process","devtools","mainWindow","name","userDataPath","getPath","setPath","db","fs","remote","dbPath","on","width","height","minWidth","minHeight","frame","webPreferences","nodeIntegration","contextIsolation","enableRemoteModule","devTools","checkForUpdatesAndNotify","existsSync","getAll","succ","data","length","setMinimumSize","setSize","center","loadURL","format","pathname","join","__dirname","protocol","slashes","event","clearTable","msg","console","log","version","getVersion","sender","send","erorr","progressObj","log_message","bytesPerSecond","percent","transferred","total","quit"],"sourceRoot":""}